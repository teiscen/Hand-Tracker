<?xml version="1.0"?>
<robot name="bionic_hand">
  <!-- ===========================================================
       Base link (palm)
       =========================================================== -->
  <link name="palm">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.08"/>
      <inertia ixx="0.0005" ixy="0.0" ixz="0.0"
               iyy="0.0005" iyz="0.0"
               izz="0.0003"/>
    </inertial>
    <visual>
      <geometry><mesh filename="package://bionic_hand/meshes/palm.stl" scale="1.0 1.0 1.0"/></geometry>
      <material name="palm_color"><color rgba="1.0 0.4 0.0 1"/></material>
    </visual>
    <collision>
      <geometry><mesh filename="package://bionic_hand/meshes/palm_collision.stl" scale="1.0 1.0 1.0"/></geometry>
    </collision>
  </link>

  <!-- ===========================================================
       Finger templates (thumb, index, middle, ring, pinky)
       Each finger has: proximal link -> distal link
       Joints limited to 0–π rad for 180° servo motion
       =========================================================== -->

<!-- ========== Thumb finger ========== -->
<link name="thumb_prox">
  <inertial>
    <origin xyz="0 0 0.025" rpy="0 0 0"/>
    <mass value="0.012"/>
    <inertia ixx="1.2e-4" ixy="0" ixz="0"
             iyy="1.2e-4" iyz="0"
             izz="1.2e-4"/>
  </inertial>
  <visual>
    <origin xyz="-0.035 0.010 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.008"/></geometry>
    <material name="thumb_color"><color rgba="0.9 0.9 0.9 1"/></material>
  </visual>
  <collision>
    <origin xyz="-0.035 0.010 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.008"/></geometry>
  </collision>
</link>

<joint name="thumb_knuckle" type="revolute">
  <parent link="palm"/>
  <child  link="thumb_prox"/>
  <origin xyz="-0.035 0.010 0" rpy="0 0 0"/>
  <axis xyz="0 1 0"/> <!-- Changed axis to make thumb movement face towards the palm -->
  <limit lower="0" upper="1.5708" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<link name="thumb_dist">
  <inertial>
    <origin xyz="0 0 0.015" rpy="0 0 0"/>
    <mass value="0.008"/>
    <inertia ixx="8e-5" ixy="0" ixz="0"
             iyy="8e-5" iyz="0"
             izz="8e-5"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
    <material name="thumb_color"/>
  </visual>
  <collision>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
  </collision>
</link>

<joint name="thumb_mid" type="revolute">
  <parent link="thumb_prox"/>
  <child  link="thumb_dist"/>
  <origin xyz="0 0 0.045" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<!-- ========== Index finger ========== -->
<link name="index_prox">
  <inertial>
    <origin xyz="0 0 0.030" rpy="0 0 0"/>
        <mass value="0.012"/>
    <inertia ixx="1.2e-4" ixy="0" ixz="0"
             iyy="1.2e-4" iyz="0"
             izz="1.2e-4"/>
  </inertial>
  <visual>
    <origin xyz="-0.030 0.030 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
    <material name="index_color"><color rgba="0.9 0.9 0.9 1"/></material>
  </visual>
  <collision>
    <origin xyz="-0.030 0.030 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
  </collision>
</link>

<joint name="index_knuckle" type="revolute">
  <parent link="palm"/>
  <child  link="index_prox"/>
  <origin xyz="-0.030 0.030 0" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<link name="index_dist">
  <inertial>
    <origin xyz="0 0 0.015" rpy="0 0 0"/>
    <mass value="0.008"/>
    <inertia ixx="8e-5" ixy="0" ixz="0"
             iyy="8e-5" iyz="0"
             izz="8e-5"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
    <material name="index_color"/>
  </visual>
  <collision>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
  </collision>
</link>

<joint name="index_mid" type="revolute">
  <parent link="index_prox"/>
  <child  link="index_dist"/>
  <origin xyz="0 0 0.055" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<!-- ========== Middle finger ========== -->
<link name="middle_prox">
  <inertial>
    <origin xyz="0 0 0.032" rpy="0 0 0"/>
    <mass value="0.012"/>
    <inertia ixx="1.2e-4" ixy="0" ixz="0"
             iyy="1.2e-4" iyz="0"
             izz="1.2e-4"/>
  </inertial>
  <visual>
    <origin xyz="-0.010 0.035 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
    <material name="middle_color"><color rgba="0.9 0.9 0.9 1"/></material>
  </visual>
  <collision>
    <origin xyz="-0.010 0.035 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
  </collision>
</link>

<joint name="middle_knuckle" type="revolute">
  <parent link="palm"/>
  <child  link="middle_prox"/>
  <origin xyz="-0.010 0.035 0" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<link name="middle_dist">
  <inertial>
    <origin xyz="0 0 0.015" rpy="0 0 0"/>
    <mass value="0.008"/>
    <inertia ixx="8e-5" ixy="0" ixz="0"
             iyy="8e-5" iyz="0"
             izz="8e-5"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
    <material name="middle_color"/>
  </visual>
  <collision>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
  </collision>
</link>

<joint name="middle_mid" type="revolute">
  <parent link="middle_prox"/>
  <child  link="middle_dist"/>
  <origin xyz="0 0 0.045" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<!-- ========== Ring finger ========== -->
<link name="ring_prox">
  <inertial>
    <origin xyz="0 0 0.028" rpy="0 0 0"/>
    <mass value="0.011"/>
    <inertia ixx="1.1e-4" ixy="0" ixz="0"
             iyy="1.1e-4" iyz="0"
             izz="1.1e-4"/>
  </inertial>
  <visual>
    <origin xyz="0.010 0.030 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
    <material name="ring_color"><color rgba="0.9 0.9 0.9 1"/></material>
  </visual>
  <collision>
    <origin xyz="0.010 0.030 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
  </collision>
</link>

<joint name="ring_knuckle" type="revolute">
  <parent link="palm"/>
  <child  link="ring_prox"/>
  <origin xyz="0.010 0.030 0" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<link name="ring_dist">
  <inertial>
    <origin xyz="0 0 0.015" rpy="0 0 0"/>
    <mass value="0.008"/>
    <inertia ixx="8e-5" ixy="0" ixz="0"
             iyy="8e-5" iyz="0"
             izz="8e-5"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
    <material name="ring_color"/>
  </visual>
  <collision>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
  </collision>
</link>

<joint name="ring_mid" type="revolute">
  <parent link="ring_prox"/>
  <child  link="ring_dist"/>
  <origin xyz="0 0 0.045" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<!-- ========== Pinky finger ========== -->
<link name="pinky_prox">
  <inertial>
    <origin xyz="0 0 0.022" rpy="0 0 0"/>
    <mass value="0.01"/>
    <inertia ixx="1e-4" ixy="0" ixz="0"
             iyy="1e-4" iyz="0"
             izz="1e-4"/>
  </inertial>
  <visual>
    <origin xyz="0.030 0.025 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
    <material name="pinky_color"><color rgba="0.9 0.9 0.9 1"/></material>
  </visual>
  <collision>
    <origin xyz="0.030 0.025 0.030" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.060" radius="0.007"/></geometry>
  </collision>
</link>

<joint name="pinky_knuckle" type="revolute">
  <parent link="palm"/>
  <child  link="pinky_prox"/>
  <origin xyz="0.030 0.025 0" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>

<link name="pinky_dist">
  <inertial>
    <origin xyz="0 0 0.015" rpy="0 0 0"/>
    <mass value="0.008"/>
    <inertia ixx="8e-5" ixy="0" ixz="0"
             iyy="8e-5" iyz="0"
             izz="8e-5"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
    <material name="pinky_color"/>
  </visual>
  <collision>
    <origin xyz="0 0 0.015" rpy="1.5708 0 0"/>
    <geometry><cylinder length="0.030" radius="0.006"/></geometry>
  </collision>
</link>

<joint name="pinky_mid" type="revolute">
  <parent link="pinky_prox"/>
  <child  link="pinky_dist"/>
  <origin xyz="0 0 0.045" rpy="0 0 0"/>
  <axis xyz="1 0 0"/>
  <limit lower="0" upper="3.14159" effort="1.0" velocity="2.0"/>
  <dynamics damping="0.01" friction="0.0"/>
</joint>
</robot>
